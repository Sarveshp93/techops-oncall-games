apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata: { name: allow-echo-from-team-a-client, namespace: team-b }
spec:
  podSelector: { matchLabels: { app: echoserver } }
  policyTypes: [Ingress]
  ingress:
  - from:
    - namespaceSelector:
        matchLabels: { kubernetes.io/metadata.name: team-a }
      podSelector:
        matchLabels: { app: client }
    ports: [{ protocol: TCP, port: 8080 }]
